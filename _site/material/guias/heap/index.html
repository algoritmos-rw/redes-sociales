<!DOCTYPE html>
<html lang="es">

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Colas de Prioridad y Heaps</title>
  <meta name="description" content="Página de la materia Algoritmos y Programación II, curso Buchwald. Facultad de Ingeniería, Universidad de Buenos Aires.">

  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
        crossorigin="anonymous" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/all.css">
  <link rel="stylesheet" href="/algo2/assets/main.css" type="text/css" />
  <link rel="shortcut icon" href="/algo2/assets/img/favicon.ico" type="image/x-icon">
  <!-- <link rel="canonical" href="http://localhost:4000/algo2/material/guias/heap/"> -->

  
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css"
        crossorigin="anonymous" integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X">
  <script defer src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.js"
          crossorigin="anonymous" integrity="sha384-g7c+Jr9ZivxKLnZTDUhnkOnsh30B4H0rpLUpJ4jAIKs4fnJI+sEnkvrMWph2EDg4"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/contrib/auto-render.min.js"
          crossorigin="anonymous" integrity="sha384-mll67QQFJfxn0IYznZYonOWZ644AWYC+Pt2cHqMaRhXVrursRwvLnLaebdGIlYNa"
          onload="renderMathInElement(document.body);"></script>
  
</head>


  <body>
    <header role="banner" class="sticky-top container-fluid px-1">
  <nav class="navbar navbar-expand-lg navbar-light bg-light">
    <a class="navbar-brand d-lg-none" href="#">Algoritmos y Programación II</a>
    <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#sitenav"
            aria-controls="sitenav" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="sitenav">
      <ul class="navbar-nav mr-auto mt-2 mt-lg-0 small mx-auto">
        <li class="nav-item "><a class="nav-link" href="/algo2/"><span class="fa fa-home"></span> Inicio</a></li>
        <li class="nav-item "><a class="nav-link" href="/algo2/docentes/"><span class="fa fa-chalkboard-teacher"></span> Docentes</a></li>
        <li class="nav-item "><a class="nav-link" href="/algo2/regimen/"><span class="fa fa-tasks"></span> Régimen</a></li>
        <li class="nav-item "><a class="nav-link" href="/algo2/calendario/"><span class="fa fa-calendar-alt"></span> Calendario</a></li>
        <li class="nav-item "><a class="nav-link" href="/algo2/tps/"><span class="fa fa-briefcase"></span> TPs</a></li>
        
        <li class="nav-item dropdown ">
          <a class="nav-link dropdown-toggle" href="#" role="button" id="matDropdown"
                                              data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            <span class="fa fa-paperclip"></span> Material</a>
          <ul class="dropdown-menu">
            <li class=""><a class="dropdown-item" href="/algo2/bibliografia/"><span class="fa fa-book"></span> Bibliografía</a></li>
            <li class=""><a class="dropdown-item" href="/algo2/material/"><span class="fa fa-book-reader"></span> Apuntes del curso</a></li>
            <li class=""><a class="dropdown-item" href="/algo2/material/guias/"><span class="fa fa-dumbbell"></span> Guías de ejercicios</a></li>
            <li>
              <a class="dropdown-item" href="https://drive.google.com/drive/folders/0B0x0VPz_v-f_ekhhQUpkay13RnM?resourcekey=0-BqMLnLNd6T8lRDzv-VL4xA&usp=sharing" target="_blank"><span class="fab fa-google-drive"></span> Drive</a>
            </li>
            <li>
              <a class="dropdown-item" href="https://www.youtube.com/channel/UCnmq-CGB2lEiwxhpa_Q63qQ" target="_blank"><span class="fab fa-youtube"></span> Canal</a>
            </li>
            <li><a class="dropdown-item" href="/algo2/faq/"><span class="fas fa-question-circle"></span> FAQ</a></li>
          </ul>
        </li>
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" role="button" id="aluDropdown"
                                              data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            <span class="fa fa-user-friends"></span> Alumno</a>
          <ul class="dropdown-menu">
            <li><a class="dropdown-item" href="https://algoritmos-rw.github.io/algo2_skel"><span class="fa fa-file-download"></span> Descargas</a></li>
            <li><a class="dropdown-item" href="https://algoritmos-rw.dijkstra.ar/entregas/"><span class="fa fa-file-upload"></span> Entregas</a></li>
            <li><a class="dropdown-item" href="https://algoritmos-rw.dijkstra.ar/notas/"><span class="fa fa-pencil-alt"></span> Notas</a></li>
          </ul>
        </li>
        <li class="nav-item "><a class="nav-link" href="/algo2/encuestas/"><span class="fa fa-poll"></span> Encuestas</a></li>
        <li class="nav-item "><a class="nav-link" href="/algo2/infraestructura/"><span class="fa fa-network-wired"></span> Infraestructura</a></li>
        <li class="nav-item">
          <a href="https://github.com/algoritmos-rw/algo2/blob/master/material/guias/heap.md" class="nav-link" target="_blank"><span class="fab fa-github"></span> Editar en GitHub</a>
        </li>
      </ul>
    </div>
  </nav>
</header>


    <main class="container" role="main">
      <div class="row justify-content-center">
        <div class="col col-xl-8">
          <h1 class="no_toc" id="colas-de-prioridad-y-heaps">Colas de Prioridad y Heaps</h1>

<h2 class="no_toc" id="contenidos">Contenidos</h2>

<ol id="markdown-toc">
  <li><a href="#ejercicio-resuelto" id="markdown-toc-ejercicio-resuelto">Ejercicio resuelto</a>    <ol>
      <li><a href="#solución" id="markdown-toc-solución">Solución</a></li>
    </ol>
  </li>
  <li><a href="#ejercicios-propuestos" id="markdown-toc-ejercicios-propuestos">Ejercicios propuestos</a></li>
</ol>

<h2 id="ejercicio-resuelto">Ejercicio resuelto</h2>

<p>Implementar en Go una primitiva para el heap (siendo este un max-heap) que reciba una función de
comparación y lo reordene de manera tal que se se comporte como max-heap para la nueva función de comparación
(se cambia la función de prioridad). El orden de dicha primitiva debe ser \(\mathcal{O}(n)\).</p>

<h3 id="solución">Solución</h3>

<p>La única dificultad de este ejercicio radica en entender verdaderamente qué es lo que se nos pide: darle a un arreglo
ya existente (el interno del heap) forma de heap, dada por una función de comparación (la nueva función de comparación
del heap). Entonces, esto no es más que invocar a <code class="language-plaintext highlighter-rouge">heapify</code>, y ya. Eso es todo. También, es la única forma de darle ese
orden a la primitiva.</p>

<div class="language-golang highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">func</span> <span class="p">(</span><span class="n">heap</span> <span class="o">*</span><span class="n">Heap</span><span class="p">[</span><span class="n">T</span><span class="p">])</span> <span class="n">CambiarPrioridad</span><span class="p">(</span><span class="k">func</span> <span class="n">cmp</span><span class="p">(</span><span class="n">T</span><span class="p">,</span> <span class="n">T</span><span class="p">)</span> <span class="kt">int</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">heap</span><span class="o">.</span><span class="n">cmp</span> <span class="o">=</span> <span class="n">cmp</span>
    <span class="n">heapify</span><span class="p">(</span><span class="n">heap</span><span class="o">.</span><span class="n">datos</span><span class="p">,</span> <span class="n">heap</span><span class="o">.</span><span class="n">cantidad</span><span class="p">,</span> <span class="n">cmp</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Obviamente, la primitiva es \(\mathcal{O}(n)\) dado que <code class="language-plaintext highlighter-rouge">heapify</code> (bien implementado) tiene dicha complejidad.
Por supuesto, este ejercicio involucra más pensar bien cuáles son las operaciones que se pueden hacer con el heap
(y, especialmente, cuál es la única con el orden pedido).</p>

<h2 id="ejercicios-propuestos">Ejercicios propuestos</h2>

<ol>
  <li>
    <p>(★) Implementar en lenguaje Go una función <em>recursiva</em> con la firma
<code class="language-plaintext highlighter-rouge">func esHeap(arr []int)</code>. Esta función debe devolver <code class="language-plaintext highlighter-rouge">true</code> o <code class="language-plaintext highlighter-rouge">false</code> de acuerdo
a si el arreglo que recibe como parámetro cumple la propiedad de heap (de mínimos).</p>

    <p>Hacer el seguimiento de la función para el arreglo <code class="language-plaintext highlighter-rouge">[ 1, 7, 2, 8, 7, 6, 3, 3, 9, 10 ]</code>.</p>
  </li>
  <li>
    <p>(★) Implementar una primitiva para el heap (de máximos) que obtenga los 3 elementos más grandes del heap en
\(\mathcal{O}(1)\).</p>
  </li>
  <li>
    <p>(★★) Si en el ejercicio anterior vez de quererse los 3 elementos más grandes se quisieran los <em>K</em> elementos
más grandes ¿cómo se debería proceder? ¿Cuál terminaría siendo la complejidad del algoritmo?</p>
  </li>
  <li>
    <p>(★★) En un heap de máximos ¿cuáles son las posibles posiciones del arreglo
donde podría encontrarse el mínimo?</p>
  </li>
  <li>
    <p>(★★) Realizar el seguimiento del algoritmo <em>heapsort</em> para ordenar el siguiente
arreglo: <code class="language-plaintext highlighter-rouge">[ 4, 7, 8, 14, 10, 9, 16, 2, 3, 1 ]</code>.</p>
  </li>
  <li>
    <p>(★★★) ¿Puede utilizarse un Heap para implementar el TDA cola (en el que se extraen los elementos en el orden
en que fueron insertados)? ¿Y para implementar el TDA pila?</p>
  </li>
  <li>
    <p>(★★) Hacer el seguimiento de las siguientes operaciones sobre un heap (de mínimos),
mostrando el estado de la estructura después de cada modificación:</p>

    <ol class="lower_alpha">
      <li>
        <p>Crear un heap de mínimos desde el arreglo <code class="language-plaintext highlighter-rouge">[8, 2, 1, 5, 10, 6, 14, 4]</code>.</p>
      </li>
      <li>
        <p>Sobre el heap resultante del punto anterior, realizar las siguientes
  operaciones: <code class="language-plaintext highlighter-rouge">encolar(6)</code>, <code class="language-plaintext highlighter-rouge">encolar(3)</code>, <code class="language-plaintext highlighter-rouge">encolar(17)</code>, <code class="language-plaintext highlighter-rouge">desencolar()</code>, <code class="language-plaintext highlighter-rouge">encolar(7)</code>,
  <code class="language-plaintext highlighter-rouge">desencolar()</code>.</p>
      </li>
    </ol>
  </li>
  <li>
    <p>(★★★) Escribir una función en Go que, dado un arreglo de \(n\) cadenas y un entero
positivo \(k\), devuelva una lista con las \(k\) cadenas más largas. Se espera que el
orden del algoritmo sea \(\mathcal{O}(n + k \log n)\). Justificar el orden.</p>
  </li>
  <li>
    <p>(★★★) Para implementar un TDA Cola de prioridad, nos proponen la siguiente solución: usar un arreglo
desordenado (<code class="language-plaintext highlighter-rouge">arr</code>) para insertar los datos, y una variable (<code class="language-plaintext highlighter-rouge">maximo</code>) para poder obtener el
máximo en \(\mathcal{O}(1)\). Se mantiene actualizada la variable <code class="language-plaintext highlighter-rouge">maximo</code> cada vez que se encola o
desencola. ¿Es una buena solución en el caso general? Justificar (recomendación: comparar
contra la implementación de colas de prioridad vista en clase).</p>
  </li>
  <li>
    <p>(★★★★) Se tienen \(k\) arreglos de enteros previamente ordenados y se quiere obtener
un arreglo ordenado que contenga a todos los elementos de los \(k\) arreglos. Sabiendo que cada arreglo
tiene tamaño \(h\), definimos como \(n\) a la sumatoria de la cantidad de elementos de todos los arreglos,
es decir, \(n = k \times h\).</p>

    <p>Escribir en Go una función <code class="language-plaintext highlighter-rouge">func KMerge(arr [][]int)</code> que reciba los \(k\) arreglos y
devuelva uno nuevo con los \(n\) elementos ordenados entre sí. La función debe ser de orden
\(\mathcal{O}(n \log k)\). Justificar el orden del algoritmo propuesto.</p>
  </li>
  <li>
    <p>(★★★★★) Diseñar el TDA Mediana. Dicho TDA debe poder recibir un flujo de números y, en cualquier momento,
debe poder consultársele cuál es la mediana de <strong>todos</strong> los elementos vistos hasta ese momento. La primitiva para agregar un nuevo
número debe poder hacerse en \(\mathcal{O}(\log n)\) mientras que la operación de consultar la mediana debe
ser \(\mathcal{O}(1)\). Recordar que la mediana de una secuencia de números es el elemento que se encontraría
a la mitad si la secuencia se encontrara ordenada (en caso de ser una cantidad par, se puede definir como
el promedio entre ambos valores adyacentes del medio, o como uno de los dos de ellos de forma arbitraria).</p>
  </li>
</ol>


        </div>
      </div>
    </main>

    <script src="https://cdn.jsdelivr.net/npm/jquery@3.4.1/dist/jquery.slim.min.js"
        integrity="sha256-pasqAKBDmFT4eHoN2ndd6lN370kFiGUFyTiUHWhU7k8=" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.bundle.min.js"
        integrity="sha384-6khuMg9gaYr5AxOqhkVIODVIvm9ynTT5J4V1cfthmT+emCG6yVmEZsRHdxlotUnm" crossorigin="anonymous"></script>

  </body>

</html>
