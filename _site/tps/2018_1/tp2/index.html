<!DOCTYPE html>
<html lang="es">

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>TP2 – analog: análisis de logs</title>
  <meta name="description" content="Página de la materia Algoritmos y Programación II, curso Buchwald. Facultad de Ingeniería, Universidad de Buenos Aires.">

  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
        crossorigin="anonymous" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/all.css">
  <link rel="stylesheet" href="/algo2/assets/main.css" type="text/css" />
  <link rel="shortcut icon" href="/algo2/assets/img/favicon.ico" type="image/x-icon">
  <!-- <link rel="canonical" href="http://localhost:4000/algo2/tps/2018_1/tp2/"> -->

  
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css"
        crossorigin="anonymous" integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X">
  <script defer src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.js"
          crossorigin="anonymous" integrity="sha384-g7c+Jr9ZivxKLnZTDUhnkOnsh30B4H0rpLUpJ4jAIKs4fnJI+sEnkvrMWph2EDg4"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/contrib/auto-render.min.js"
          crossorigin="anonymous" integrity="sha384-mll67QQFJfxn0IYznZYonOWZ644AWYC+Pt2cHqMaRhXVrursRwvLnLaebdGIlYNa"
          onload="renderMathInElement(document.body);"></script>
  
</head>


  <body>
    <header role="banner" class="sticky-top container-fluid px-1">
  <nav class="navbar navbar-expand-lg navbar-light bg-light">
    <a class="navbar-brand d-lg-none" href="#">Algoritmos y Programación II</a>
    <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#sitenav"
            aria-controls="sitenav" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="sitenav">
      <ul class="navbar-nav mr-auto mt-2 mt-lg-0 small mx-auto">
        <li class="nav-item "><a class="nav-link" href="/algo2/"><span class="fa fa-home"></span> Inicio</a></li>
        <li class="nav-item "><a class="nav-link" href="/algo2/docentes/"><span class="fa fa-chalkboard-teacher"></span> Docentes</a></li>
        <li class="nav-item "><a class="nav-link" href="/algo2/regimen/"><span class="fa fa-tasks"></span> Régimen</a></li>
        <li class="nav-item "><a class="nav-link" href="/algo2/calendario/"><span class="fa fa-calendar-alt"></span> Calendario</a></li>
        <li class="nav-item "><a class="nav-link" href="/algo2/tps/"><span class="fa fa-briefcase"></span> TPs</a></li>
        
        <li class="nav-item dropdown ">
          <a class="nav-link dropdown-toggle" href="#" role="button" id="matDropdown"
                                              data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            <span class="fa fa-paperclip"></span> Material</a>
          <ul class="dropdown-menu">
            <li class=""><a class="dropdown-item" href="/algo2/bibliografia/"><span class="fa fa-book"></span> Bibliografía</a></li>
            <li class=""><a class="dropdown-item" href="/algo2/material/"><span class="fa fa-book-reader"></span> Apuntes del curso</a></li>
            <li class=""><a class="dropdown-item" href="/algo2/material/guias/"><span class="fa fa-dumbbell"></span> Guías de ejercicios</a></li>
            <li>
              <a class="dropdown-item" href="https://drive.google.com/drive/folders/0B0x0VPz_v-f_ekhhQUpkay13RnM?resourcekey=0-BqMLnLNd6T8lRDzv-VL4xA&usp=sharing" target="_blank"><span class="fab fa-google-drive"></span> Drive</a>
            </li>
            <li>
              <a class="dropdown-item" href="https://www.youtube.com/channel/UCnmq-CGB2lEiwxhpa_Q63qQ" target="_blank"><span class="fab fa-youtube"></span> Canal</a>
            </li>
            <li><a class="dropdown-item" href="/algo2/faq/"><span class="fas fa-question-circle"></span> FAQ</a></li>
          </ul>
        </li>
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" role="button" id="aluDropdown"
                                              data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            <span class="fa fa-user-friends"></span> Alumno</a>
          <ul class="dropdown-menu">
            <li><a class="dropdown-item" href="https://algoritmos-rw.github.io/algo2_skel"><span class="fa fa-file-download"></span> Descargas</a></li>
            <li><a class="dropdown-item" href="https://algoritmos-rw.dijkstra.ar/entregas/"><span class="fa fa-file-upload"></span> Entregas</a></li>
            <li><a class="dropdown-item" href="https://algoritmos-rw.dijkstra.ar/notas/"><span class="fa fa-pencil-alt"></span> Notas</a></li>
          </ul>
        </li>
        <li class="nav-item "><a class="nav-link" href="/algo2/encuestas/"><span class="fa fa-poll"></span> Encuestas</a></li>
        <li class="nav-item "><a class="nav-link" href="/algo2/infraestructura/"><span class="fa fa-network-wired"></span> Infraestructura</a></li>
        <li class="nav-item">
          <a href="https://github.com/algoritmos-rw/algo2/blob/master/tps/2018_1/tp2.md" class="nav-link" target="_blank"><span class="fab fa-github"></span> Editar en GitHub</a>
        </li>
      </ul>
    </div>
  </nav>
</header>


    <main class="container" role="main">
      <div class="row justify-content-center">
        <div class="col col-xl-8">
          <h1 class="no_toc" id="trabajo-práctico-2">Trabajo Práctico 2</h1>

<p>El Trabajo Práctico número 2 es de elaboración grupal, y tiene fecha de entrega
para el <strong>viernes 15 de junio</strong>.</p>

<h2 class="no_toc" id="contenido">Contenido</h2>

<ul id="markdown-toc">
  <li><a href="#introducción" id="markdown-toc-introducción">Introducción</a>    <ul>
      <li><a href="#servidores-y-archivos-de-log" id="markdown-toc-servidores-y-archivos-de-log">Servidores y archivos de log</a></li>
      <li><a href="#denegación-de-servicios" id="markdown-toc-denegación-de-servicios">Denegación de servicios</a></li>
      <li><a href="#direcciones-ip" id="markdown-toc-direcciones-ip">Direcciones IP</a></li>
    </ul>
  </li>
  <li><a href="#interfaz" id="markdown-toc-interfaz">Interfaz</a>    <ul>
      <li><a href="#ordenar-archivo" id="markdown-toc-ordenar-archivo">Ordenar Archivo</a></li>
      <li><a href="#agregar-archivo" id="markdown-toc-agregar-archivo">Agregar archivo</a></li>
      <li><a href="#ver-visitantes" id="markdown-toc-ver-visitantes">Ver visitantes</a></li>
    </ul>
  </li>
  <li><a href="#consideraciones-adicionales" id="markdown-toc-consideraciones-adicionales">Consideraciones adicionales</a>    <ul>
      <li><a href="#archivos-de-log" id="markdown-toc-archivos-de-log">Archivos de log</a></li>
      <li><a href="#fecha-y-hora" id="markdown-toc-fecha-y-hora">Fecha y hora</a></li>
      <li><a href="#tiempos-de-ejecución" id="markdown-toc-tiempos-de-ejecución">Tiempos de ejecución</a></li>
    </ul>
  </li>
  <li><a href="#ejemplos" id="markdown-toc-ejemplos">Ejemplos</a>    <ul>
      <li><a href="#ordenar-archivo-1" id="markdown-toc-ordenar-archivo-1">Ordenar archivo</a></li>
      <li><a href="#reporte-de-dos" id="markdown-toc-reporte-de-dos">Reporte de DoS</a></li>
      <li><a href="#ver-vistantes" id="markdown-toc-ver-vistantes">Ver vistantes</a></li>
    </ul>
  </li>
  <li><a href="#criterios-de-aprobación" id="markdown-toc-criterios-de-aprobación">Criterios de aprobación</a></li>
</ul>

<h2 id="introducción">Introducción</h2>

<!--p style="text-align: center;">
    Anita me dijo que el martes después de rendir agrega una imagen
    <img src="/algo2/assets/tps/2018_1/tp2/uma2.png" width="200">
</p-->

<p>Una cierta materia de una prestigiosa Universidad de Danza clásica ha puesto a
disposición un corrector automático de coreografías. Puesto que los docentes a
cargo del curso no tienen demasiada experiencia en programación de sistemas web,
la decenas de visitas diarias al sitio han hecho que los servidores se caigan.</p>

<p>Se les suma el problema de que, como los servidores estaban muy mal configurados,
las entradas en dichos archivos están completamente desordenados.</p>

<p>Como cada acceso al sistema queda registrado, los bailarines han buscado ayuda a
estudiantes de Algoritmos y Programación II con mucha experiencia en manejo de
archivos, ordenamientos y entrada estándar en C.</p>

<h3 id="servidores-y-archivos-de-log">Servidores y archivos de log</h3>

<p>En algunas situaciones es preferible que una página web no esté habilitada en un
solo servidor web, sino en varios, y si es posible en lugares físicos del
planeta alejados entre sí.</p>

<p>Esto se hace para evitar que un problema regional afecte la disponibilidad de la
página web a nivel global. También sirve para optimizar el tráfico, conectando
un usuario directamente con el servidor más cercano a su ubicación.
Como cada servidor corre de manera independiente, también tendrá su archivo de
log independiente.</p>

<p>Para este trabajo, dispondremos de archivos de log de <a href="https://httpd.apache.org">Apache</a>.
Cada archivo de log representa la historia de solicitudes (<em>requests</em>) de un
usuario hacia los recursos (<em>resources</em>) que provee un servidor en particular.
Estos pueden ser cualquier tipo de archivos, desde páginas web (<code class="language-plaintext highlighter-rouge">.html</code>) hasta
videos (<code class="language-plaintext highlighter-rouge">.avi</code>, <code class="language-plaintext highlighter-rouge">.mov</code>).</p>

<h3 id="denegación-de-servicios">Denegación de servicios</h3>

<p>Nuestro interés es detectar situaciones de sobrecarga de solicitudes de un mismo
cliente en un tiempo breve sobre un mismo servidor.
A este tipo de comportamientos se los llama <a href="https://es.wikipedia.org/wiki/Ataque_de_denegación_de_servicio">ataque de denegación de servicio</a>
(DoS) cuando se realizan de forma malintencionada, con el objetivo de
incrementar el tráfico hasta saturarlo haciendo imposible que otros usuarios
legítimos puedan acceder a los servicios brindados por ese servidor.</p>

<h3 id="direcciones-ip">Direcciones IP</h3>

<p>Podemos diferenciar de forma unívoca a un cliente que accede a un recurso a
través de un identificador llamado <em>dirección IP</em>, o simplemente IP. Estos
quedan registrados en los archivos de logs, y constan de cuatro bloques
numéricos de un byte (es decir, desde 0 a 255). Las direcciones IP usualmente
se escriben separadas por puntos: 192.168.1.1 y 63.255.0.12 son IPs válidas.</p>

<p>Notar que, alfabéticamente, el texto <code class="language-plaintext highlighter-rouge">190.0.0.0</code> es anterior a <code class="language-plaintext highlighter-rouge">62.0.0.0</code>, por
ejemplo, aunque la numeración no sigue el mismo orden.
Por lo tanto, en este trabajo, la forma en que se comparen debe tener en cuenta
que se están comparando cuatro grupos de números, y que los números se comparan
por valor.</p>

<h2 id="interfaz">Interfaz</h2>

<p>Es necesario implementar una interfaz del programa, que leerá por entrada
estándar los siguientes comandos:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">ordenar_archivo &lt;nombre_archivo&gt; &lt;nombre_salida&gt;</code>: como utilidad, permite ordenar un archivo
de log.</li>
  <li><code class="language-plaintext highlighter-rouge">agregar_archivo &lt;nombre_archivo&gt;</code>: procesa de forma completa un archivo de
log.</li>
  <li><code class="language-plaintext highlighter-rouge">ver_visitantes &lt;desde&gt; &lt;hasta&gt;</code>: muestra todas las IPs que solicitaron algún
recurso en el servidor, dentro del rango de IPs determinado.</li>
</ul>

<p>Si un comando es válido deberá imprimir <code class="language-plaintext highlighter-rouge">OK</code> por salida estándar después de ser
ejecutado.
Si un comando no pertenece a los listados previamente o tiene un error, se
imprime <code class="language-plaintext highlighter-rouge">Error en comando &lt;comando&gt;</code> por <code class="language-plaintext highlighter-rouge">stderr</code> y se finaliza la ejecución.</p>

<p>El programa no tendrá un comando para terminar. Este finaliza cuando no quedan
más líneas para procesar por entrada estándar. Al finalizar, es importante que
libere toda la memoria dinámica utilizada, y cierre correctamente todos los
archivos procesados.</p>

<p>Adicionalmente, el programa deberá recibir por parámetro un número entero <code class="language-plaintext highlighter-rouge">M</code> que indique
la cantidad de memoria (en kilobytes) disponible para realizar el ordenamiento.</p>

<h3 id="ordenar-archivo">Ordenar Archivo</h3>

<p>El comando se acompaña del nombre de un archivo de log, accesible desde el mismo
directorio donde se ejecuta el programa, y otro como salida del comando.</p>

<p><em>Ejemplo:</em> <code class="language-plaintext highlighter-rouge">ordenar_archivo 20171025.log 20171025-ordenado.log</code></p>

<p>Al ejecutarse, se deberá ordenar el archivo por el campo de tiempo, y dejar el resultado ordenado
en la ruta especificada como destino (segundo parámetro). En caso de dos líneas que tengan el mismo
timestamp, se debe comparar por IP (de la misma forma que en <code class="language-plaintext highlighter-rouge">ver_visitantes</code>), y en caso de una
igualdad en este último, por recurso (comparación entre strings). Esto último se pide exclusivamente
para poder realizar comparaciones de forma sencilla en las pruebas automáticas.</p>

<p>El archivo puede no caber en memoria, por lo que deberán utilizar
algún <a href="/algo2/material/apuntes/ordenamientos_externos">algoritmo de ordenamiento externo</a>.
Por simplicidad, el programa recibirá por parámetro la cantidad de memoria que puede utilizarse
para esta tarea. Recordar que es importante eliminar los archivos temporales. En caso de no hacerlo <strong>no
se aprobará la entrega</strong>.</p>

<p>Una forma de probar que el programa efectivamente cumple con la restricción, es usando el comando <code class="language-plaintext highlighter-rouge">ulimit</code>.
Recomendamos usarlo creando un script (e.g. <code class="language-plaintext highlighter-rouge">limite_memoria.sh</code>) con el contenido:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    ulimit -v 1000
    ./analog 200
</code></pre></div></div>

<p>Dado que ese límite es para todo el programa en su totalidad, no solamente lo que pidamos para hacer el ordenamiento,
poner un valor más alto que el pasado por parámetro. Por ejemplo, si piensan trabajar con 100 KB, poner como límite al
menos 400 KB (la unidad del parámetro que recibe ulimit es en KB).</p>

<h3 id="agregar-archivo">Agregar archivo</h3>

<p>El comando se acompaña del nombre de un archivo de log <strong>ordenado por tiempo</strong>, accesible desde el mismo
directorio donde se ejecuta el programa. Para este comando no es necesario tener en cuenta el parámetro
de memoria pasado al programa, dado que la mayoría de los campos del archivo (especialmente los de mayor longitud)
serán descartados.</p>

<p><em>Ejemplo:</em> <code class="language-plaintext highlighter-rouge">agregar_archivo 20171025.log</code></p>

<p>Al ejecutarse deberán procesar el archivo, y detectar posibles casos de ataques
de denegación de servicio. Si se detecta que una dirección IP realizó cinco o más
peticiones en menos de dos segundos, el comando debe alertarlo por salida
estándar como sospechosa de intento de DoS.</p>

<p>A la hora de detectar denegaciones de servicio, varios archivos se consideran
independientes entre sí, por lo que no se deberán memorizar entradas entre dos
ejecuciones diferentes de <code class="language-plaintext highlighter-rouge">agregar_archivo</code>.</p>

<p>Para alertar una IP, basta con mostrar por salida estándar <code class="language-plaintext highlighter-rouge">DoS: &lt;IP&gt;</code>.
Una misma dirección no deberá ser reportada más de una vez.
Si varias direcciones son sospechosas, estas deberán ser mostradas en orden
creciente.</p>

<p><em>Ejemplo de salida:</em></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>DoS: 192.168.1.4
DoS: 200.10.4.2
OK
</code></pre></div></div>

<h3 id="ver-visitantes">Ver visitantes</h3>

<p>Este comando debe listar en orden a todas las IPs que realizaron alguna
petición. Sólo se mostrarán las IPs que se encuentren dentro de un rango de IPs
dado, con los límites inclusive. Como las direcciones son repartidas entre
regiones, esto puede ser útil para saber desde dónde se accede al sitio.<sup><a href="https://xkcd.com/195/">1</a></sup></p>

<p><em>Ejemplo:</em> <code class="language-plaintext highlighter-rouge">ver_visitantes 62.0.0.0 62.255.255.255</code> mostrará todas las IPs que
empiezan con 62.</p>

<p><em>Ejemplo de salida:</em></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Visitantes:
	62.0.0.0
	62.9.128.3
	62.10.128.3
	62.10.129.3
	62.10.129.4
	62.62.62.62
	62.255.255.255
OK
</code></pre></div></div>

<p>Notar que la salida <em>contiene</em> el texto “<code class="language-plaintext highlighter-rouge">Visitantes:</code>” (con salto de línea luego del caracter <code class="language-plaintext highlighter-rouge">:</code>) y luego lista las IPs,
en orden, precedidas por un caracter de tabulación (<code class="language-plaintext highlighter-rouge">\t</code>), una por línea.</p>

<h2 id="consideraciones-adicionales">Consideraciones adicionales</h2>

<h3 id="archivos-de-log">Archivos de log</h3>

<p>Cada línea del archivo tiene la siguiente estructura:</p>

<ul>
  <li>IP del cliente: es la IP del cliente que quiere acceder a un recurso (como el
archivo de la página principal, o un archivo, por ejemplo).</li>
  <li>Fecha y hora: la fecha y hora en la que se efectuó el pedido.</li>
  <li>El método HTTP usado: puede ser GET, POST, PUT, etc.</li>
  <li>La URL del recurso: es la ruta para ubicar un archivo, relativo a la raíz del
servidor.</li>
</ul>

<p>Cada dato de una línea de log está separado por una tabulación.</p>

<p>Ejemplo:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>208.115.111.72	2015-05-17T11:05:15+00:00	GET	/corrector.html
</code></pre></div></div>

<p>Además, todas las entradas en un archivo de log están registradas en orden cronológico.</p>

<p>Se provee una <a href="https://drive.google.com/drive/folders/1CHCUvxaCiuMasKMsg7BfRkOyjzVECkLb">colección de logs de ejemplo</a>.</p>

<h3 id="fecha-y-hora">Fecha y hora</h3>

<p>La fecha y hora estarán brindadas en formato
<a href="https://www.iso.org/iso-8601-date-and-time-format.html">ISO-8601</a>,<sup><a href="https://xkcd.com/1179/">2</a></sup>
que consiste de año, mes, día, T mayúscula como separador, hora, minutos,
segundos y zona horaria:</p>

<ul>
  <li>año = 4 dígitos</li>
  <li>mes = 3 letras</li>
  <li>día = 2 dígitos</li>
  <li>hora = 2 dígitos</li>
  <li>minutos = 2 dígitos</li>
  <li>segundos = 2 dígitos</li>
  <li>zona = +/- 4 dígitos.</li>
</ul>

<p>Los archivos de log provistos están dados en la zona horaria UTC, por lo que
el valor del último segmento siempre será +00:00.</p>

<p>Para interpretar la sección de la fecha en C pueden utilizar el siguiente
fragmento de código, que devuelve un tipo <code class="language-plaintext highlighter-rouge">time_t</code> dado una cadena con el
formato indicado:</p>

<div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#define _XOPEN_SOURCE
</span>
<span class="cp">#include &lt;time.h&gt;
</span>
<span class="cp">#define TIME_FORMAT "%FT%T%z"
</span>
<span class="cm">/*
    Dada una cadena en formato ISO-8601 devuelve una variable de tipo time_t
    que representa un instante en el tiempo.
*/</span>
<span class="kt">time_t</span> <span class="nf">iso8601_to_time</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span><span class="o">*</span> <span class="n">iso8601</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">struct</span> <span class="n">tm</span> <span class="n">bktime</span> <span class="o">=</span> <span class="p">{</span> <span class="mi">0</span> <span class="p">};</span>
    <span class="n">strptime</span><span class="p">(</span><span class="n">iso8601</span><span class="p">,</span> <span class="n">TIME_FORMAT</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">bktime</span><span class="p">);</span>
    <span class="k">return</span> <span class="n">mktime</span><span class="p">(</span><span class="o">&amp;</span><span class="n">bktime</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Esta variable de tipo <code class="language-plaintext highlighter-rouge">time_t</code> puede ser usada junto con la función <code class="language-plaintext highlighter-rouge">timediff</code>
(<a href="http://man7.org/linux/man-pages/man3/difftime.3.html">info</a>)
para calcular la diferencia en segundos entre dos fechas.</p>

<h3 id="tiempos-de-ejecución">Tiempos de ejecución</h3>

<ul>
  <li>Agregar archivo:
    <ul>
      <li>La búsqueda de DoS debe ser en  \(\mathcal{O}(n)\) siendo \(n\) la cantidad de líneas del
log.</li>
      <li>El mantenimiento para actualizar los visitantes debe ser  \(\mathcal{O}(n \log v)\)
siendo \(v\) la cantidad de visitantes en toda la historia del programa.</li>
    </ul>
  </li>
  <li>Ver visitantes: debe ser  \(\mathcal{O}(v)\) en el peor caso (en el que se tenga que
mostrar todos los visitantes),  \(\mathcal{O}(\log v)\) en un caso promedio (en el caso en
el que no se pidan mostrar demasiados visitantes). \(v\) nuevamente es la cantidad histórica de
visitantes.</li>
  <li>Ordenar archivo: debe ser  \(\mathcal{O}(n \log n)\), siendo \(n\) la cantidad de líneas del log.</li>
</ul>

<h2 id="ejemplos">Ejemplos</h2>

<p>Se proveen ejemplos completos para mostrar la salida esperada en cada
instrucción.</p>

<h3 id="ordenar-archivo-1">Ordenar archivo</h3>

<p>Para la siguiente entrada:
    ordenar_archivo access001.log access001-ordenado.log</p>

<p>El programa, además de ordenar el archivo, debe imprimir por salida estándar <code class="language-plaintext highlighter-rouge">OK</code>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>OK
</code></pre></div></div>

<p>Se espera que el archivo ordenado sea igual al original (que ya estaba ordenado):</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>diff access001.log access001-ordenado.log | wc
0
</code></pre></div></div>

<p>El archivo <code class="language-plaintext highlighter-rouge">access010.log</code> es el archivo <code class="language-plaintext highlighter-rouge">access001.log</code>, desordenado, así como <code class="language-plaintext highlighter-rouge">access011.log</code> es igual al archivo <code class="language-plaintext highlighter-rouge">access003.log</code>, pero desordenado:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>diff access001.log access010-ordenado.log | wc
0
diff access003.log access011-ordenado.log | wc
0
</code></pre></div></div>

<p>Se recuerda que se pueden generar más ejemplos desordenados utilizando el comando:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>perl -MList::Util -e 'print List::Util::shuffle &lt;&gt;' archivo_original &gt; archivo_desordenado
</code></pre></div></div>

<h3 id="reporte-de-dos">Reporte de DoS</h3>

<p>Para la siguiente entrada:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>agregar_archivo access001.log
agregar_archivo access002.log
</code></pre></div></div>

<p>Se espera una salida como la siguiente:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>OK
DoS: 50.139.66.106
DoS: 67.61.65.249
OK
</code></pre></div></div>

<p>En esta se reportan dos posibles ataques de DoS en el segundo archivo agregado,
<code class="language-plaintext highlighter-rouge">access002.log</code>, pero ninguno en el primero.</p>

<p>Notar que:</p>

<ul>
  <li>de haberse detectado posibles DoS, deberían haberse reportado antes de los
<code class="language-plaintext highlighter-rouge">OK</code> de <code class="language-plaintext highlighter-rouge">agregar_archivo</code>.</li>
</ul>

<h3 id="ver-vistantes">Ver vistantes</h3>

<p>Para la siguiente entrada:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ordenar_archivo access010.log access010-ordenado.log
agregar_archivo access010-ordenado.log
agregar_archivo access004.log
ver_visitantes 200.49.0.0 201.30.0.0
</code></pre></div></div>

<p>Se espera una salida como la siguiente:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>OK
OK
OK
Visitantes:
	200.49.190.100
	200.49.190.101
	201.26.152.202
OK
</code></pre></div></div>

<p>Notar que, igual que en el ejemplo anterior, los visitantes son reportados
cuando aparecen en alguno de los archivos agregados hasta ese momento, en orden,
según las direcciones IPs.</p>

<h2 id="criterios-de-aprobación">Criterios de aprobación</h2>

<p>El código entregado debe ser claro y legible y ajustarse a las especificaciones
de la consigna. Debe compilar sin advertencias y correr sin errores de memoria.</p>

<p>La entrega incluye, obligatoriamente, los siguientes archivos de código:</p>

<ul>
  <li>el código de la solución del TP.</li>
  <li>el código de los TDAs programados en la cursada que se requieran, con las
modificaciones que sean necesarias.</li>
  <li>un archivo <code class="language-plaintext highlighter-rouge">deps.mk</code> con las dependencias del proyecto en formato make. Este
deberá contener sólamente una línea que indique qué <em>objetos</em> necesita para
compilar el ejecutable <code class="language-plaintext highlighter-rouge">analog</code>, por ejemplo:</li>
</ul>

<div class="language-makefile highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nl">analog</span><span class="o">:</span> <span class="nf">tp2.c hash.o abb.o heap.o strutil.o timeutils.o</span>
</code></pre></div></div>

<p>El corrector automático va a interpretar ese archivo de dependencias y va a
compilar todos los <code class="language-plaintext highlighter-rouge">.o</code> especificados a partir de los <code class="language-plaintext highlighter-rouge">.h</code> y <code class="language-plaintext highlighter-rouge">.c</code> que deberán
enviar, con los siguientes flags de GCC:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>-g -std=c99 -Wall -Wtype-limits -pedantic -Wconversion -Wno-sign-conversion
</code></pre></div></div>

<p>La entrega se realiza:</p>

<ol>
  <li>en forma digital a través del <a href="https://algoritmos-rw.dijkstra.ar/entregas/">sistema de entregas</a>,
con todos los archivos mencionados en un único archivo ZIP.</li>
  <li>en papel durante la clase (si su ayudante lo requiere) el código del Trabajo
en hoja A4 <strong>abrochadas, sin folio, informe ni carátula</strong>. No es necesario
reimprimir el código de los TDA ni de <code class="language-plaintext highlighter-rouge">strutil</code>.</li>
</ol>


        </div>
      </div>
    </main>

    <script src="https://cdn.jsdelivr.net/npm/jquery@3.4.1/dist/jquery.slim.min.js"
        integrity="sha256-pasqAKBDmFT4eHoN2ndd6lN370kFiGUFyTiUHWhU7k8=" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.bundle.min.js"
        integrity="sha384-6khuMg9gaYr5AxOqhkVIODVIvm9ynTT5J4V1cfthmT+emCG6yVmEZsRHdxlotUnm" crossorigin="anonymous"></script>

  </body>

</html>
