<!DOCTYPE html>
<html lang="es">

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>TP 2</title>
  <meta name="description" content="Página de la materia Algoritmos y Programación II, curso Buchwald. Facultad de Ingeniería, Universidad de Buenos Aires.">

  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
        crossorigin="anonymous" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/all.css">
  <link rel="stylesheet" href="/algo2/assets/main.css" type="text/css" />
  <link rel="shortcut icon" href="/algo2/assets/img/favicon.ico" type="image/x-icon">
  <!-- <link rel="canonical" href="http://localhost:4000/algo2/tps/2016_1/tp2/"> -->

  
</head>


  <body>
    <header role="banner" class="sticky-top container-fluid px-1">
  <nav class="navbar navbar-expand-lg navbar-light bg-light">
    <a class="navbar-brand d-lg-none" href="#">Algoritmos y Programación II</a>
    <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#sitenav"
            aria-controls="sitenav" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="sitenav">
      <ul class="navbar-nav mr-auto mt-2 mt-lg-0 small mx-auto">
        <li class="nav-item "><a class="nav-link" href="/algo2/"><span class="fa fa-home"></span> Inicio</a></li>
        <li class="nav-item "><a class="nav-link" href="/algo2/docentes/"><span class="fa fa-chalkboard-teacher"></span> Docentes</a></li>
        <li class="nav-item "><a class="nav-link" href="/algo2/regimen/"><span class="fa fa-tasks"></span> Régimen</a></li>
        <li class="nav-item "><a class="nav-link" href="/algo2/calendario/"><span class="fa fa-calendar-alt"></span> Calendario</a></li>
        <li class="nav-item "><a class="nav-link" href="/algo2/tps/"><span class="fa fa-briefcase"></span> TPs</a></li>
        
        <li class="nav-item dropdown ">
          <a class="nav-link dropdown-toggle" href="#" role="button" id="matDropdown"
                                              data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            <span class="fa fa-paperclip"></span> Material</a>
          <ul class="dropdown-menu">
            <li class=""><a class="dropdown-item" href="/algo2/bibliografia/"><span class="fa fa-book"></span> Bibliografía</a></li>
            <li class=""><a class="dropdown-item" href="/algo2/material/"><span class="fa fa-book-reader"></span> Apuntes del curso</a></li>
            <li class=""><a class="dropdown-item" href="/algo2/material/guias/"><span class="fa fa-dumbbell"></span> Guías de ejercicios</a></li>
            <li>
              <a class="dropdown-item" href="https://drive.google.com/drive/folders/0B0x0VPz_v-f_ekhhQUpkay13RnM?resourcekey=0-BqMLnLNd6T8lRDzv-VL4xA&usp=sharing" target="_blank"><span class="fab fa-google-drive"></span> Drive</a>
            </li>
            <li>
              <a class="dropdown-item" href="https://www.youtube.com/channel/UCnmq-CGB2lEiwxhpa_Q63qQ" target="_blank"><span class="fab fa-youtube"></span> Canal</a>
            </li>
            <li><a class="dropdown-item" href="/algo2/faq/"><span class="fas fa-question-circle"></span> FAQ</a></li>
          </ul>
        </li>
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" role="button" id="aluDropdown"
                                              data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            <span class="fa fa-user-friends"></span> Alumno</a>
          <ul class="dropdown-menu">
            <li><a class="dropdown-item" href="https://algoritmos-rw.github.io/algo2_skel"><span class="fa fa-file-download"></span> Descargas</a></li>
            <li><a class="dropdown-item" href="https://algoritmos-rw.dijkstra.ar/entregas/"><span class="fa fa-file-upload"></span> Entregas</a></li>
            <li><a class="dropdown-item" href="https://algoritmos-rw.dijkstra.ar/notas/"><span class="fa fa-pencil-alt"></span> Notas</a></li>
          </ul>
        </li>
        <li class="nav-item "><a class="nav-link" href="/algo2/encuestas/"><span class="fa fa-poll"></span> Encuestas</a></li>
        <li class="nav-item "><a class="nav-link" href="/algo2/infraestructura/"><span class="fa fa-network-wired"></span> Infraestructura</a></li>
        <li class="nav-item">
          <a href="https://github.com/algoritmos-rw/algo2/blob/master/tps/2016_1/tp2.md" class="nav-link" target="_blank"><span class="fab fa-github"></span> Editar en GitHub</a>
        </li>
      </ul>
    </div>
  </nav>
</header>


    <main class="container" role="main">
      <div class="row justify-content-center">
        <div class="col col-xl-8">
          <h1 class="no_toc" id="tp2-utilidades-con-hashes-abbs-y-heaps">TP2: utilidades con hashes, ABBs y heaps</h1>

<h2 class="no_toc" id="contenido">Contenido</h2>

<ol id="markdown-toc">
  <li><a href="#ejercicios" id="markdown-toc-ejercicios">Ejercicios</a>    <ol>
      <li><a href="#uniq" id="markdown-toc-uniq">uniq</a></li>
      <li><a href="#join" id="markdown-toc-join">join</a></li>
      <li><a href="#abb_iter_crear_desde" id="markdown-toc-abb_iter_crear_desde">abb_iter_crear_desde</a></li>
      <li><a href="#abb_rebalanceado" id="markdown-toc-abb_rebalanceado">abb_rebalanceado</a></li>
      <li><a href="#multi-merge" id="markdown-toc-multi-merge">multi-merge</a></li>
      <li><a href="#tda-mediana" id="markdown-toc-tda-mediana">TDA mediana</a></li>
    </ol>
  </li>
  <li><a href="#condiciones-de-entrega" id="markdown-toc-condiciones-de-entrega">Condiciones de entrega</a></li>
  <li><a href="#criterios-de-aprobación" id="markdown-toc-criterios-de-aprobación">Criterios de aprobación</a></li>
</ol>

<h2 id="ejercicios">Ejercicios</h2>

<h3 id="uniq">uniq</h3>

<p>Se pide programar una utilidad similar al programa <a href="http://ss64.com/bash/uniq.html">uniq</a>, que dada una entrada de texto la imprime ignorando las líneas repetidas.</p>

<p>En la versión original, uniq sólo filtra las líneas repetidas que son consecutivas. Nuestra versión no debe tener esta restricción. Debe imprimir las líneas en orden de acuerdo a la primera aparición y debe funcionar en O(n) siendo n el número de líneas del archivo a filtrar.</p>

<p>Entonces, ante la siguiente entrada:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ cat nombres.txt
Carolina
Daniel
Bruno
Daniel
Alicia
Carolina
</code></pre></div></div>

<p>La salida deberá ser la siguiente:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ ./uniq nombres.txt
Carolina
Daniel
Bruno
Alicia
</code></pre></div></div>

<p>El programa podrá almacenar todo el contenido del archivo en memoria.</p>

<h3 id="join">join</h3>

<p>Se pide implementar un programa similar a <a href="http://ss64.com/bash/join.html">join</a>, que dados dos archivos de registros imprime una junta interna entre los dos.</p>

<p>Por simplicidad consideraremos que los registros en los archivos están separados por saltos de líneas, y los campos en los registros están separados por espacios.</p>

<p>De esta manera ante los siguientes archivos:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ cat fechas.txt
Nombre Dia Mes Año
Carolina 2 12 2007
Bruno 4 12 1996
Alicia 11 12 2013

$ cat ciudades.txt
Nombre Ciudad
Bruno Rosario
Daniel Córdoba
Carolina Lanús
</code></pre></div></div>

<p>La salida deberá ser:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ ./join fechas.txt ciudades.txt
Nombre Dia Mes Año Ciudad
Carolina 2 12 2007 Lanús
Bruno 4 12 1996 Rosario
</code></pre></div></div>

<p>Tener en cuenta las siguientes consideraciones:</p>
<ul>
  <li>El campo por el que se hace la junta es el primero de cada archivo.</li>
  <li>Se imprimen las columnas de los dos archivos.</li>
  <li>Los registros que forman parte del resultado son los que aparecen en los dos archivos.</li>
  <li>El orden de los registros de salida es aquél del primer archivo de entrada.</li>
</ul>

<p>El programa debe funcionar en orden O(n + m), siendo n y m la longitud de cada archivo.</p>

<h3 id="abb_iter_crear_desde">abb_iter_crear_desde</h3>

<p>Se pide programar una nueva primitiva para el árbol binario de búsqueda con la siguiente firma:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>abb_iter_t* abb_iter_crear_desde(abb_t* arbol, const char* clave_desde, const char* clave_hasta);
</code></pre></div></div>

<p>La función debe crear un iterador in order que al crearse estará posicionado en el nodo con <code class="language-plaintext highlighter-rouge">clave_desde</code> (o en caso de que el árbol no tenga esa clave, en la primera superior a esa), y debe iterar hasta encontrar la <code class="language-plaintext highlighter-rouge">clave_hasta</code> (o en caso de no existir, a la última menor a esa), inclusive. Una vez superado ese valor el iterador estará siempre al final.</p>

<p>El parámetro <code class="language-plaintext highlighter-rouge">clave_hasta</code> puede ser <code class="language-plaintext highlighter-rouge">NULL</code>. En ese caso el iterador iterará hasta el último nodo inorder.</p>

<p>Para implementar esta primitiva será necesario modificar la estructura interna del iterador del árbol.</p>

<p>Por ejemplo, dado el siguiente árbol:</p>

<p><img src="https://web.archive.org/web/20181129134807if_/http://cramster-image.s3.amazonaws.com/definitions/computerscience-5-img-1.png" alt="ABB ejemplo" /></p>

<p>Los valores de la iteración en cada una de las siguientes invocaciones deberán ser:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">abb_iter_crear_desde(4, 9)</code>: 4, 5, 6, 7, 9</li>
  <li><code class="language-plaintext highlighter-rouge">abb_iter_crear_desde(7, NULL)</code>: 7, 9, 17, 20, 22</li>
  <li><code class="language-plaintext highlighter-rouge">abb_iter_crear_desde(4, 8)</code>: 4, 5, 6, 7</li>
  <li><code class="language-plaintext highlighter-rouge">abb_iter_crear_desde(13, 22)</code>: 17, 22</li>
  <li><code class="language-plaintext highlighter-rouge">abb_iter_crear_desde(9, 4)</code>: -</li>
</ul>

<h3 id="abb_rebalanceado">abb_rebalanceado</h3>

<p>Se pide programar una función externa (no primitiva) con la siguiente firma:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>void abb_rebalanceado(abb_t* orig, abb_t* dest);
</code></pre></div></div>

<p>que dado un árbol binario de búsqueda añada a otro árbol inicialmente vacío todos sus elementos en un orden de inserción tal, que el árbol destino quede balanceado.</p>

<p>En un árbol balanceado se cumple <em>para todos los nodos</em> (no solo la raíz) que la diferencia de altura entre su subárbol izquierdo y su subárbol derecho es 0 o 1.</p>

<p>La función debe ser O(n log n), siendo n la cantidad de nodos del árbol.</p>

<h3 id="multi-merge">multi-merge</h3>

<p>Se tienen k archivos cuyas líneas aparecen en orden. Se desea unirlos por salida estándar de manera que la secuencia siga ordenada (parecido a como hace merge-sort).</p>

<p>Los archivos pueden ser arbitrariamente grandes (no entran en memoria), y k puede también serlo. Si en total hay n líneas, se pide implementar un algoritmo que permita realizar la unión en O(n log k) tiempo, sin mantener en memoria más de k líneas.</p>

<p>Además: el número de alloc/realloc debe ser proporcional a k, no a n. Si, por ejemplo, se usa la función getline(), los buffers deben ser reusados cuando corresponda.</p>

<p>Uso:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>./multi-merge arch1 arch2 arch3 ... archN
</code></pre></div></div>

<h3 id="tda-mediana">TDA mediana</h3>

<p>Implementar un TDA que permita calcular la mediana para una secuencia de números diferentes que se le ingresarán. El TDA debe contar con las siguientes primitivas:</p>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">mediana_t* calculador_mediana_crear();</code>, que deberá inicializar el TDA en O(1).</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">bool calculador_mediana_agregar_valor(mediana_t* mediana, double valor);</code>, que agregará un valor a la estructura en O(log n). Esta primitiva devolverá <code class="language-plaintext highlighter-rouge">true</code> cuando se agrega el valor exitosamente y <code class="language-plaintext highlighter-rouge">false</code> en caso contrario.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">double calculador_mediana_obtener_mediana(mediana_t* mediana);</code>, que devolverá la mediana de acuerdo a los elementos que le fueron ingresados en O(1).</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">void calculador_mediana_destruir(mediana_t* mediana);</code>, que destruirá la estructura en O(n).</p>
  </li>
</ul>

<h2 id="condiciones-de-entrega">Condiciones de entrega</h2>

<p>Este trabajo práctico consiste de seis ejercicios con fecha de entrega <strong>3 de junio de 2016</strong>.
La entrega incluye, obligatoriamente, un informe en formato PDF y los siguientes archivos de código:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">uniq.c</code></li>
  <li><code class="language-plaintext highlighter-rouge">join.c</code></li>
  <li><code class="language-plaintext highlighter-rouge">abb.c</code> y <code class="language-plaintext highlighter-rouge">abb.h</code> con el nuevo iterador implementado.</li>
  <li><code class="language-plaintext highlighter-rouge">abb_utils.c</code> con la función <code class="language-plaintext highlighter-rouge">abb_rebalancear</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">multi-merge.c</code></li>
  <li><code class="language-plaintext highlighter-rouge">mediana.c</code> y <code class="language-plaintext highlighter-rouge">mediana.h</code></li>
  <li><code class="language-plaintext highlighter-rouge">deps.mk</code>, el archivo de dependencias con las mismas consideraciones que se tuvieron en el <a href="https://algoritmos-rw.github.io/prog2/tp1/#deps.mk">TP1</a>.</li>
</ul>

<p>La entrega se realiza:</p>

<ol>
  <li>
    <p>por mail a la casilla de TPs: todos los archivos mencionados en un único archivo ZIP, más el informe como un adjunto PDF sin comprimir. El asunto debe incluir el padrón del alumno (sin punto decimal) y nombre del TP (TP1 en este caso).</p>
  </li>
  <li>
    <p>en papel durante la clase, tanto el informe como el código. El código se debe imprimir en fuente <code class="language-plaintext highlighter-rouge">monoespacio</code>; no se debe imprimir el código de los TDA.</p>
  </li>
</ol>

<p>Se puede incluir otros archivos fuente con funciones comunes, siempre que el orden de dependencias quede especificado en <code class="language-plaintext highlighter-rouge">deps.mk</code>.</p>

<h2 id="criterios-de-aprobación">Criterios de aprobación</h2>

<p>El código entregado debe ser claro y legible y ajustarse a las especificaciones de la consigna. Debe compilar sin advertencias y correr sin errores de memoria (ver el uso de Valgrind a continuación).</p>

<p>El informe deberá consistir de las siguientes partes:</p>

<ul>
  <li>carátula con los datos personales del alumno y el ayudante asignado.</li>
  <li>análisis y diseño de la solución, en particular: algoritmos y estructuras de datos utilizados; orden de ejecución de cada programa o función.</li>
</ul>


        </div>
      </div>
    </main>

    <script src="https://cdn.jsdelivr.net/npm/jquery@3.4.1/dist/jquery.slim.min.js"
        integrity="sha256-pasqAKBDmFT4eHoN2ndd6lN370kFiGUFyTiUHWhU7k8=" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.bundle.min.js"
        integrity="sha384-6khuMg9gaYr5AxOqhkVIODVIvm9ynTT5J4V1cfthmT+emCG6yVmEZsRHdxlotUnm" crossorigin="anonymous"></script>

  </body>

</html>
